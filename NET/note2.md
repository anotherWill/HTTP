## 《图解TCP/IP》

 - OSI参考模型。demo1.png
 - 计算机网络，根据其规模可分为WAN ( Wide Area Network，广域网)和城域网和LAN ( Local Area Network，局域网)。demo2.png
 - 分组交换是指将大数据分割为一个个叫做包(Packet )的较小单位进行传输的方法。demo3.png
 - OSI参考模型各层分工。demo4.png
 - 应用层为应用程序提供服务并规定应用程序中通信相关的细节。包括文件传输、电子邮件、远程登录(虚拟终端)等协议。表示层将应用处理的信息转换为适合网络传输的格式，或将来自下一层的数据转换为上层能够处理的格式。因此它主要负责数据格式的转换。 具体来说，就是将设备固有的数据格式转换为网络标准传输格式。不同设备对同一比特流解释的结果可能会不同。因此，使它们保持一致是这一层的主要作用。会话层负责建立和断开通信连接(数据流动的逻辑通路)，以及数据的分割等数据传输相关的管理。传输层起着可靠传输的作用。只在通信双方节点上进行处理，而无需在路由器上处理。网络层将数据传输到目标地址。目标地址可以是多个网络通过路由器连接而成的某一个地址。因此这一层主要负责寻址和路由选择。数据链路层负责物理层面上互连的、节点之间的通信传输。例如与1个以太网相连的2个节点之间的通信。将0,1序列划分为具有意义的数据帧传送给对端(数据帧的生成与接收)。物理层负责0, 1比特流(0, 1序列)与电压的高低、光的闪灭之间的互换。
 - 每个分层上，在处理由上一层传过来的数据时可以附上当前分层的协议所必须的“首部”信息。然后接收端对收到的数据进行数据“首部”与“内容”的分离，再转发给上一分层，并最终将发送端的数据恢复为原状。demo5.png
 - 物理层中，将数据的0、1 i转换为电压和脉冲光传输给物理的传输介质，而相互直连的设备之间使用地址实现传输。这种地址被称为MAC，地址，也可称为物理地址或硬件地址。采用MAC地址，目的是为了识别连接到同一个传输介质上的设备。因此，在这一分层中将包含MAC地址信息的首部附加到从网路层转发过来的数据上，将其发送到网络。demo6.png
 - 传输方式的分类面向有连接型与面向无连接型。面向有连接型：在通信传输之前，先打开一个连接。连接被关闭时无法发送数据。 面向无连接型：无需确认对端是否发送端可随时发送存在数据。
 - 即让连接到通信电路的计算机将所要发送的数据分成多个数据包，按照一定的顺序排列之后分别发送。这就是分组交换。有了分组交换，数据被细分后，所有的计算机就可以一齐收发数据，这样也就提高了通信线路的利用率。由于在分组的过程中，已经在每个分组的首部写人了发送端和接收端的地址，所以即使同一条线路同时为多个用户提供服务，也可以明确区分每个分组数据发往的目的地，以及它是与哪台计算机进行的通信。
 - 在分组交换中，由分组交换机(路由器)连接通信线路。分组交换的大致处
理过程是:发送端计算机将数据分组发送给路由器，路由器收到这些分组数据以后，缓存到自己的缓冲区，然后再转发给目标计算机。因此，分组交换也有另一个名称:蓄积交换。路由器接收到数据以后会按照顺序缓存到相应的队列当中，再以先进先出的顺序将它们逐一发送出去。
 - IP地址有分层、MAC无分层。
 - MAC地址由设备的制造厂商针对每块网卡甲进行分别指定。人们可以通过制造商识别号、制造商内部产品编号以及产品通用编号确保MAC地址的唯一性。然而，人们无法确定哪家厂商的哪个网卡被用到了哪个地方。虽然MAC地址中的制造商识别号、产品编号以及通用编号等信息在某种程度上也具有一定的层次性，但是对于寻找地址并没有起到任何作用，所以不能算作有层次的地址。正因如此，虽然MAC地址是真正负责最终通信的地址，但是在实际寻址过程中，IP地址却必不可少。
 - IP地址由网络号和主机号两部分组成。一方面。即使通信主体的IP地址不同，若主机号不同，网络号相同，说明它们处于同一个网段。通常，同处一个网段的主机也都属于同一个部门或集团组织。另一方面，网络号相同的主机在组织结构、提供商类型和地域分布上都比较集中，也为IP寻址带来了极大的方便，。这也是为什么说IP地址具有层次性的原因。
 - 网络传输中，每个节点会根据分组数据的地址信息，来判断该报文应该由哪个网卡发送出去。为此，各个地址会参考一个发出接口列表。在这一点上MAC寻址与IP寻址是一样的。只不过MAC寻址中所参考的这张表叫做地址转发表，而IP寻址中所参考的叫做路由控制表，。MAC地址转发表中所记录的是实际的MAC地址本身，而路由表中记录的IP地址则是集中了之后的网络号。demo8.png
 - 网络构成要素。demo9.png、
 - 中继器(位于1层(网络层))demo10.png
 - 网关负责协议的转换与数据的转发，在同一种类型的协议之间转发数据叫做应用网关 
 - 网桥(2层(数据链路层)交换机)根据数据帧的内容转发数据给相邻的其他网络网桥没有连接网段个数的限制，网桥基本上只用于连接相同类型的网络。但是有时也可以连接传输速率不同的网络。 
 -  路由器(3层(网络层)交换机)是在OSI模型的第3层—网络层面上连接两个网络、并对分组报文进行转发的设备。网桥是根据物理地址(MAC地址)进行处理，而路由器乃层交换机则是根据IP地址进行处理的。由此，TCP/IP中网络层的地址就成为了IP地址。 
 - 网关负责协议的转换与数据的转发在同一种类型的协议之间转发数据叫做应用网关demo11.png
 - TCP/IP与osl参考模型。demo12.png
 - 发送电子邮件时用到的协议叫做SMTP.文件传输(FTP).远程登录(TELNET与SSH ).在TCP/IP中进行网络管理时，采用SNMP ( Simple Network Management Proto-ool)协议。使用SNMP管理的主机、网桥、路由器等称作SNMP代理(Agent ) ,而进行管理的那一段叫做管理器(Manager)。SNMP正是这个Manager与Agent所要用到的协议。 在SNMP的代理端，保存着网络接口的信息、通信数据量、异常数据量以及设备温度等信息。这些信息可以通过MIB ( Management Information Base )’访问。因此，在TCP/IP的网络管理中，SNMP属于应用协议，MIB属于表示层协议。
 - 数据包首部。demo13.png.包可以说是全能性述语。帧用于表示数据链路层中包的单位。而数据包是IP和UDP等网络层以上的分层中包的单位。段则表示TCP数据流中的信息。最后.消息是指应用协议中数据的单位。
 - 包结构。demo14.png
 - 网络的连接和构成的形态称为网络拓扑(Topology )。网络拓扑包括总线型、环型、星型、网状型等。
 - 共享介质型网络中有两种介质访问控制方式:一种是争用方式，另一种是令牌传递方式。 
 - 每个站从报文首部中读取接收端MAC地址，若跟自己的不匹配则丢弃。 
 - 争用方式(Contention)是指争夺获取数据传输的权力，也叫CSMA(载波监听多路访问)。这种方法通常令网络中的各个站，采用先到先得的方式占用信道发送数据，如果多个站同时发送帧，则会产生冲突现象。也因此会导致网络拥堵与性能下降。 
 - 令牌传递方式是沿着令牌环发送一种叫做“令牌”的特殊报文，是控制传输的一种方式。只有获得令牌的站才能发送数据。这种方式有两个特点:一是不会有冲突，二是每个站都有通过平等循环获得令牌的机会。因此，即使网络拥堵也不会导致性能下降。
 - 半双工是指，只发送或只接收的通信方式。全双工允许在同一时间既可以发送数据也可以接收数据
 - 有些互联网接人服务商在以太网上利用PPPoE (PPP over Ethernet )提供PPP功能。
 - IP  (IPv4, IPv6）相当于OSI参考模型中的第3层—网络层。主要作用就是在复杂的网络环境中将数据包发给最终的目标地址。
 - 为了将数据包发给目标主机，所有主机都维护着一张路由控制表RoutingTable )。该表记录IP数据在下一步应该发给哪个路由器。IP包将根据这个路由表在各个数据链路上传输。
 - IP无连接型。TCP有连接型。IP地址由网络标识和主机标识构成.demo15.png
 - IP地址分类。demo16png。A类二进制首位必须以0开头。以此类推。将地址的主机部分全部改为1，则形成广播地址。
 - 0. 0. 0. 0 ~ 127. 0. 0. 0是A类的网络地址；128. 0. 0. 1一191. 255. 0. 0是B类的网络地址。
192.168. 0. 0 ~ 239. 255. 255. 0是C类的网络地址。224. 0. 0. 0一239. 255. 255.255是D类的网络地址。
 - DNS解析域名。ARP寻找MAC地址 
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
  - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
  - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
  - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
  - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
  - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
 - 
 - 
 - 
 - 
 - 
 -  
 -  
 -  
 - 
